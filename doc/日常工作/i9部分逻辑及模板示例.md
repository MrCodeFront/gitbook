 

#### i9栅格布局规划

##### 一行6列

```html
col：			nzXXl='4' nzXl="6" nzLg="8" nzMd="8" nzSm="12" nzXs="24"
form-label：		[nzSpan]="8"
form-content：	[nzSpan]="16"

// 开始结束日期、备注等较长表单组件
col：			nzXXl='8' nzXl="12" nzLg="16" nzMd="16" nzSm="12" nzXs="24"
form-label：		[nzSpan]="4"
form-content：	[nzSpan]="20"
```

##### 一行4列

```html
col：			nzXXl='6' nzXl="6" nzLg="8" nzMd="8" nzSm="12" nzXs="24"
form-label：		[nzSpan]="8"
form-content：	[nzSpan]="16"

// 开始结束日期、备注等较长表单组件
col：			nzXXl='6' nzXl="12" nzLg="16" nzMd="16" nzSm="12" nzXs="24"
form-label：		nzXXl='8' nzXl="4" nzLg="4" nzMd="4" nzSm="4" nzXs="4"
form-content：	nzXXl='16' nzXl="20" nzLg="20" nzMd="20" nzSm="20" nzXs="20"
```

##### Demo

```html
<nz-row [nzGutter]='8'>
  <nz-col nzXXl='6' nzXl="6" nzLg="8" nzMd="8" nzSm="12" nzXs="24">
    <nz-form-item>
      <nz-form-label [nzSpan]="8">...</nz-form-label>
      <nz-form-control [nzSpan]="16">
        ...
      </nz-form-control>
    </nz-form-item>
  </nz-col>
  
  <ng-container *ngIf="isShow">
	...
	...
  </ng-container>

  <nz-col class="text-right" nzFlex="auto">
    <button class="mr-sm" nz-button nzType="primary" (click)="search()"><i nz-icon nzType="search" nzTheme="outline"></i>搜索</button>
    <button class="mr-sm" nz-button nzType="default" (click)="reset()"><i nz-icon nzType="redo" nzTheme="outline"></i>重置</button>
    <app-btn-fold-contract [(showHidden)]="isShow" [showTitle]="'更多条件'" [hiddenTitle]="'隐藏条件'"></app-btn-fold-contract>
  </nz-col>
</nz-row>
```



#### 表格勾选

##### 非分组

```typescript
allChecked = false;
indeterminate = false;
setOfCheckedId = new Set<number>();

/** 更新勾选状态设置 */
updateCheckedSet(index: number, checked: boolean): void {
	if (checked) {
		this.setOfCheckedId.add(index);
	} else {
		this.setOfCheckedId.delete(index);
	}
}
/** 全选 */
allCheckedChange(value: boolean) {
	this.tableList.forEach((item: any, index: number) => this.updateCheckedSet(index, value));
	this.refreshCheckedStatus();
}
/** 单选 */
singleCheckedChange(index: number, checked: boolean) {
	this.updateCheckedSet(index, checked);
	this.refreshCheckedStatus();
}
/** 更新勾选状态 */
refreshCheckedStatus(): void {
	this.allChecked = this.tableList.every((item: any, index: number) => this.setOfCheckedId.has(index));
	this.indeterminate = this.tableList.some((item: any, index: number) => this.setOfCheckedId.has(index)) && !this.allChecked;
}
```

```html
<!-- 全选 -->
<th nzWidth="50px" nzAlign='center'>
	<label nz-checkbox [(ngModel)]="allChecked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="allCheckedChange($event)"></label></th>
<!-- 单选 -->
<td nzAlign='center'>
	<label nz-checkbox [nzChecked]="setOfCheckedId.has(index)" (nzCheckedChange)="singleCheckedChange(index,$event)"></label>
</td>
<!-- 分页 -->
<app-paging [Totle]="count" [(nzPageIndex)]="params.page" (pageChange)='this.refreshCheckedStatus()'></app-paging>
```

##### 普通分组

```typescript
/** 更新勾选状态设置 */
updateCheckedSet(index: number, checked: boolean): void {
	if (checked) {
		this.setOfCheckedId.add(index);
	} else {
		this.setOfCheckedId.delete(index);
	}
}
/** 全选 */
allCheckedChange(value: boolean) {
	if (this.tabIndex === 0 || this.tabIndex === 1) {
 		this.tableList1.forEach((item: any, index: number) => this.updateCheckedSet(index, value));
	} else if (this.tabIndex === 2 || this.tabIndex === 3) {
  		this.tableList2.forEach((item: any, index: number) => {
			item.groupList.forEach((item2: any, index2: number) => {
  				this.updateCheckedSet(index * 10 + index2, value);
				});
			});
		}
	this.refreshCheckedStatus();
}
/** 单选 */
singleCheckedChange(index: number, checked: boolean) {
	this.updateCheckedSet(index, checked);
	this.refreshCheckedStatus();
}
/** 更新勾选状态 */
refreshCheckedStatus(): void {
	this.allChecked = this.tableList.every((item: any, index: number) => this.setOfCheckedId.has(index));
	this.indeterminate = this.tableList.some((item: any, index: number) => this.setOfCheckedId.has(index)) && !this.allChecked;
}
```

##### 含tab切换分组

```typescript
/** 更新勾选状态设置 */
updateCheckedSet(index: number, checked: boolean): void {
	if (checked) {
		this.setOfCheckedId.add(index);
	} else {
		this.setOfCheckedId.delete(index);
	}
}
/** 全选 */
allCheckedChange(value: boolean) {
	this.tableList.forEach((item: any, index: number) => this.updateCheckedSet(index, value));
	this.refreshCheckedStatus();
}
/** 单选 */
singleCheckedChange(index: number, checked: boolean) {
	this.updateCheckedSet(index, checked);
	this.refreshCheckedStatus();
}
/** 更新勾选状态 */
refreshCheckedStatus(): void {
	if (this.tabIndex === 0 || this.tabIndex === 1) {
		this.allChecked = this.tableList1.every((item: any, index: number) => this.setOfCheckedId.has(index));
		this.indeterminate = this.tableList1.some((item: any, index: number) => this.setOfCheckedId.has(index)) && !this.allChecked;
	} else if (this.tabIndex === 2 || this.tabIndex === 3) {
		const allCheckedList = [];
		const indeterminateList = [];
		this.tableList2.forEach((item: any, index: number) => {
			item.groupList.forEach((item2: any, index2: number) => {
				allCheckedList.push(this.setOfCheckedId.has(index * 10 + index2));
				indeterminateList.push(this.setOfCheckedId.has(index * 10 + index2));
			});
		});
		this.allChecked = allCheckedList.every((item: any) => item === true);
		this.indeterminate = allCheckedList.some((item: any) => item === true) && !this.allChecked;
	}
}
```

```html
<!-- 全选 -->
<th nzWidth="50px" nzAlign='center'>
	<label nz-checkbox [(ngModel)]="allChecked" [nzIndeterminate]="indeterminate" (nzCheckedChange)="allCheckedChange($event)"></label></th>
<!-- 单选 -->
<td nzAlign='center'>
	<label nz-checkbox [nzChecked]="setOfCheckedId.has(index*10+index2)" (nzCheckedChange)="singleCheckedChange(index*10+index2,$event)"></label>
</td>
<!-- 分页 -->
<app-paging [Totle]="count" [(nzPageIndex)]="params.page" (pageChange)='this.refreshCheckedStatus()'></app-paging>
```





























